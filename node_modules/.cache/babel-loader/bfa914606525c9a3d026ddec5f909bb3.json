{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React, { useEffect } from 'react';\nimport Hls from 'hls.js';\nfunction ReactHlsPlayer(_a) {\n  var hlsConfig = _a.hlsConfig,\n    _b = _a.playerRef,\n    playerRef = _b === void 0 ? React.createRef() : _b,\n    src = _a.src,\n    autoPlay = _a.autoPlay,\n    props = __rest(_a, [\"hlsConfig\", \"playerRef\", \"src\", \"autoPlay\"]);\n  useEffect(function () {\n    var hls;\n    function _initPlayer() {\n      if (hls != null) {\n        hls.destroy();\n      }\n      var newHls = new Hls(__assign({\n        enableWorker: false\n      }, hlsConfig));\n      if (playerRef.current != null) {\n        newHls.attachMedia(playerRef.current);\n      }\n      newHls.on(Hls.Events.MEDIA_ATTACHED, function () {\n        newHls.loadSource(src);\n        newHls.on(Hls.Events.MANIFEST_PARSED, function () {\n          var _a;\n          if (autoPlay) {\n            (_a = playerRef === null || playerRef === void 0 ? void 0 : playerRef.current) === null || _a === void 0 ? void 0 : _a.play().catch(function () {\n              return console.log('Unable to autoplay prior to user interaction with the dom.');\n            });\n          }\n        });\n      });\n      newHls.on(Hls.Events.ERROR, function (event, data) {\n        if (data.fatal) {\n          switch (data.type) {\n            case Hls.ErrorTypes.NETWORK_ERROR:\n              newHls.startLoad();\n              break;\n            case Hls.ErrorTypes.MEDIA_ERROR:\n              newHls.recoverMediaError();\n              break;\n            default:\n              _initPlayer();\n              break;\n          }\n        }\n      });\n      hls = newHls;\n    }\n    if (Hls.isSupported()) {\n      _initPlayer();\n    }\n    return function () {\n      if (hls != null) {\n        hls.destroy();\n      }\n    };\n  }, [autoPlay, hlsConfig, playerRef, src]);\n  if (Hls.isSupported()) return React.createElement(\"video\", __assign({\n    ref: playerRef\n  }, props));\n  return React.createElement(\"video\", __assign({\n    ref: playerRef,\n    src: src,\n    autoPlay: autoPlay\n  }, props));\n}\nexport default ReactHlsPlayer;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","useEffect","Hls","ReactHlsPlayer","_a","hlsConfig","_b","playerRef","createRef","src","autoPlay","props","hls","_initPlayer","destroy","newHls","enableWorker","current","attachMedia","on","Events","MEDIA_ATTACHED","loadSource","MANIFEST_PARSED","play","catch","console","log","ERROR","event","data","fatal","type","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","isSupported","createElement","ref"],"sources":["C:/Users/Wendel/Documents/projetos/livevide/node_modules/react-hls-player/dist/index.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport React, { useEffect } from 'react';\r\nimport Hls from 'hls.js';\r\nfunction ReactHlsPlayer(_a) {\r\n    var hlsConfig = _a.hlsConfig, _b = _a.playerRef, playerRef = _b === void 0 ? React.createRef() : _b, src = _a.src, autoPlay = _a.autoPlay, props = __rest(_a, [\"hlsConfig\", \"playerRef\", \"src\", \"autoPlay\"]);\r\n    useEffect(function () {\r\n        var hls;\r\n        function _initPlayer() {\r\n            if (hls != null) {\r\n                hls.destroy();\r\n            }\r\n            var newHls = new Hls(__assign({ enableWorker: false }, hlsConfig));\r\n            if (playerRef.current != null) {\r\n                newHls.attachMedia(playerRef.current);\r\n            }\r\n            newHls.on(Hls.Events.MEDIA_ATTACHED, function () {\r\n                newHls.loadSource(src);\r\n                newHls.on(Hls.Events.MANIFEST_PARSED, function () {\r\n                    var _a;\r\n                    if (autoPlay) {\r\n                        (_a = playerRef === null || playerRef === void 0 ? void 0 : playerRef.current) === null || _a === void 0 ? void 0 : _a.play().catch(function () {\r\n                            return console.log('Unable to autoplay prior to user interaction with the dom.');\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n            newHls.on(Hls.Events.ERROR, function (event, data) {\r\n                if (data.fatal) {\r\n                    switch (data.type) {\r\n                        case Hls.ErrorTypes.NETWORK_ERROR:\r\n                            newHls.startLoad();\r\n                            break;\r\n                        case Hls.ErrorTypes.MEDIA_ERROR:\r\n                            newHls.recoverMediaError();\r\n                            break;\r\n                        default:\r\n                            _initPlayer();\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n            hls = newHls;\r\n        }\r\n        if (Hls.isSupported()) {\r\n            _initPlayer();\r\n        }\r\n        return function () {\r\n            if (hls != null) {\r\n                hls.destroy();\r\n            }\r\n        };\r\n    }, [autoPlay, hlsConfig, playerRef, src]);\r\n    if (Hls.isSupported())\r\n        return React.createElement(\"video\", __assign({ ref: playerRef }, props));\r\n    return React.createElement(\"video\", __assign({ ref: playerRef, src: src, autoPlay: autoPlay }, props));\r\n}\r\nexport default ReactHlsPlayer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}